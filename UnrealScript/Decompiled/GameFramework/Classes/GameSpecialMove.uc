/*******************************************************************************
 * GameSpecialMove generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class GameSpecialMove extends Object
    abstract
    native(SpecialMoves);

var Pawn PawnOwner;
var name Handle;
var transient float LastCanDoSpecialMoveTime;
var private bool bLastCanDoSpecialMove;
var const bool bReachPreciseDestination;
var const bool bReachedPreciseDestination;
var const bool bReachPreciseRotation;
var const bool bReachedPreciseRotation;
var bool bForcePrecisePosition;
var const Vector PreciseDestination;
var const Actor PreciseDestBase;
var const Vector PreciseDestRelOffset;
var const float PreciseRotationInterpolationTime;
var const Rotator PreciseRotation;

function InitSpecialMove(Pawn inPawn, name InHandle)
{
    PawnOwner = GamePawn(inPawn);
    Handle = InHandle;
}

function InitSpecialMoveFlags(out int out_Flags);

function ExtractSpecialMoveFlags(int Flags);

function bool CanChainMove(name NextMove)
{
    return false;
}

function bool CanOverrideMoveWith(name NewMove)
{
    return false;
}

function bool CanOverrideSpecialMove(name InMove)
{
    return false;
}

final function bool CanDoSpecialMove(optional bool bForceCheck)
{
    if(PawnOwner != none)
    {
        if(bForceCheck || PawnOwner.WorldInfo.TimeSeconds != LastCanDoSpecialMoveTime)
        {
            bLastCanDoSpecialMove = InternalCanDoSpecialMove();
            LastCanDoSpecialMoveTime = PawnOwner.WorldInfo.TimeSeconds;
        }
        return bLastCanDoSpecialMove;
    }
    return false;
}

protected function bool InternalCanDoSpecialMove()
{
    return true;
}

function SpecialMoveStarted(bool bForced, name PrevMove);

function SpecialMoveEnded(name PrevMove, name NextMove);

function Tick(float DeltaTime);

function SpecialMoveFlagsUpdated();

function bool ShouldReplicate()
{
    return true;
}

// Export UGameSpecialMove::execSetReachPreciseDestination(FFrame&, void* const)
native final function SetReachPreciseDestination(Vector DestinationToReach, optional bool bCancel);

// Export UGameSpecialMove::execSetFacePreciseRotation(FFrame&, void* const)
native final function SetFacePreciseRotation(Rotator RotationToFace, float InterpolationTime);

event ReachedPrecisePosition();

// Export UGameSpecialMove::execResetFacePreciseRotation(FFrame&, void* const)
native final function ResetFacePreciseRotation();

function bool MessageEvent(name EventName, Object Sender)
{
    LogInternal(((((((((((string(PawnOwner.WorldInfo.TimeSeconds) @ string(PawnOwner)) @ string(Class)) @ string(GetFuncName())) @ "Received unhandled event!") @ "EventName:'") $ string(EventName)) $ "'") @ "from:") @ "Sender:'") $ string(Sender)) $ "'");
    ScriptTrace();
    return false;
}

// Export UGameSpecialMove::execForcePawnRotation(FFrame&, void* const)
native final function ForcePawnRotation(Pawn P, Rotator NewRotation, optional bool bIgnoreHumanController);

// Export UGameSpecialMove::execWorldToRelativeOffset(FFrame&, void* const)
native final function Vector WorldToRelativeOffset(Rotator InRotation, Vector WorldSpaceOffset);

// Export UGameSpecialMove::execRelativeToWorldOffset(FFrame&, void* const)
native final function Vector RelativeToWorldOffset(Rotator InRotation, Vector RelativeSpaceOffset);
