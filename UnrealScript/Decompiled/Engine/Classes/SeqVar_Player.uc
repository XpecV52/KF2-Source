/*******************************************************************************
 * SeqVar_Player generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class SeqVar_Player extends SeqVar_Object
    native(Sequence)
    hidecategories(Object);

var transient array<Object> Players;
/** Return all player references? */
var() bool bAllPlayers;
/** Individual player selection for multiplayer scripting */
var() int PlayerIdx;

// Export USeqVar_Player::execUpdatePlayersList(FFrame&, void* const)
native final function UpdatePlayersList();

function Object GetObjectValue()
{
    local Controller C;

    UpdatePlayersList();
    if(Players.Length > 0)
    {
        if((bAllPlayers || PlayerIdx < 0) || PlayerIdx >= Players.Length)
        {
            C = Controller(Players[0]);            
        }
        else
        {
            C = Controller(Players[PlayerIdx]);
        }
    }
    return (((C != none) && C.Pawn != none) ? C.Pawn : C);
}

defaultproperties
{
    bAllPlayers=true
    SupportedClasses(0)=class'Controller'
    SupportedClasses(1)=class'Pawn'
    ObjName="Player"
    ObjCategory="Player"
}