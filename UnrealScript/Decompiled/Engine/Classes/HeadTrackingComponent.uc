/*******************************************************************************
 * HeadTrackingComponent generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class HeadTrackingComponent extends ActorComponent
    native(Anim);

struct native ActorToLookAt
{
    var Actor Actor;
    var float Rating;
    var float EnteredTime;
    var float LastKnownDistance;
    var float StartTimeBeingLookedAt;
    var bool CurrentlyBeingLookedAt;

    structdefaultproperties
    {
        Actor=none
        Rating=0
        EnteredTime=0
        LastKnownDistance=0
        StartTimeBeingLookedAt=0
        CurrentlyBeingLookedAt=false
    }
};

/** SkelControlLookAt name in the AnimTree of the SkeletalMesh */
var() array<name> TrackControllerName;
/** Will pick up actor within this radius */
var() float LookAtActorRadius;
/** Interp back to zero strength if limit surpassed */
var() bool bDisableBeyondLimit;
/** How long can one person to look at one */
var() float MaxLookAtTime;
/** At least this time to look at one */
var() float MinLookAtTime;
/** Once entered the radius, how long do I really care to look  ? This affects rating. It will give benefit to the person who just entered */
var() float MaxInterestTime;
/** Actor classes to look at as 0 index being the highest priority if you have anything specific */
var(Target) array< class<Actor> > ActorClassesToLookAt;
/** Target Bone Names, where to look at - priority from top to bottom, if not found, it will continue search */
var(Target) array<name> TargetBoneNames;
var private native const transient map<0, 0> CurrentActorMap;
var export editinline SkeletalMeshComponent SkeletalMeshComp;
var private transient array<SkelControlLookAt> TrackControls;
var private transient Vector RootMeshLocation;
var private transient Rotator RootMeshRotation;

defaultproperties
{
    TrackControllerName(0)=HeadLook
    TrackControllerName(1)=LeftEyeLook
    TrackControllerName(2)=RightEyeLook
    LookAtActorRadius=500
    MaxLookAtTime=5
    MinLookAtTime=3
    MaxInterestTime=7
    TargetBoneNames(0)=b_MF_Head
    TargetBoneNames(1)=b_MF_Neck
}