/*******************************************************************************
 * StaticMeshActorBasedOnExtremeContent generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class StaticMeshActorBasedOnExtremeContent extends Actor
    native
    placeable
    hidecategories(Navigation)
    classgroup(StaticMeshes);

struct native SMMaterialSetterDatum
{
    /** This is set so the LD can map specific MaterialIndex on the target to some material */
    var() int MaterialIndex;
    /** This is set so the LD can map specific MaterialIndex on the target to some material */
    var() MaterialInterface TheMaterial;

    structdefaultproperties
    {
        MaterialIndex=0
        TheMaterial=none
    }
};

var() const editconst export editinline StaticMeshComponent StaticMeshComponent;
/** The material to use for ExtremeContent (e.g. blood and gore!) */
var() array<SMMaterialSetterDatum> ExtremeContent;
/** The material to use for NonExtremeContent (e.g. blackness everywhere there used to be blood and gore) */
var() array<SMMaterialSetterDatum> NonExtremeContent;

simulated event PostBeginPlay()
{
    super.PostBeginPlay();
    SetMaterialBasedOnExtremeContent();
}

simulated function SetMaterialBasedOnExtremeContent()
{
    local int Idx;

    if(WorldInfo.GRI.ShouldShowGore())
    {
        Idx = 0;
        J0x42:

        if(Idx < ExtremeContent.Length)
        {
            StaticMeshComponent.SetMaterial(ExtremeContent[Idx].MaterialIndex, ExtremeContent[Idx].TheMaterial);
            ++ Idx;
            goto J0x42;
        }        
    }
    else
    {
        Idx = 0;
        J0xE1:

        if(Idx < NonExtremeContent.Length)
        {
            StaticMeshComponent.SetMaterial(NonExtremeContent[Idx].MaterialIndex, NonExtremeContent[Idx].TheMaterial);
            ++ Idx;
            goto J0xE1;
        }
    }
}

defaultproperties
{
    begin object name=StaticMeshComponent0 class=StaticMeshComponent
        ReplacementPrimitive=none
        bAllowApproximateOcclusion=true
        bForceDirectLightMap=true
        bUsePrecomputedShadows=true
    object end
    // Reference: StaticMeshComponent'Default__StaticMeshActorBasedOnExtremeContent.StaticMeshComponent0'
    StaticMeshComponent=StaticMeshComponent0
    begin object name=StaticMeshComponent0 class=StaticMeshComponent
        ReplacementPrimitive=none
        bAllowApproximateOcclusion=true
        bForceDirectLightMap=true
        bUsePrecomputedShadows=true
    object end
    // Reference: StaticMeshComponent'Default__StaticMeshActorBasedOnExtremeContent.StaticMeshComponent0'
    Components(0)=StaticMeshComponent0
    CollisionType=ECollisionType.COLLIDE_CustomDefault
    bStatic=true
    bWorldGeometry=true
    bGameRelevant=true
    bMovable=false
    bCollideActors=true
    bBlockActors=true
    bEdShouldSnap=true
    begin object name=StaticMeshComponent0 class=StaticMeshComponent
        ReplacementPrimitive=none
        bAllowApproximateOcclusion=true
        bForceDirectLightMap=true
        bUsePrecomputedShadows=true
    object end
    // Reference: StaticMeshComponent'Default__StaticMeshActorBasedOnExtremeContent.StaticMeshComponent0'
    CollisionComponent=StaticMeshComponent0
}