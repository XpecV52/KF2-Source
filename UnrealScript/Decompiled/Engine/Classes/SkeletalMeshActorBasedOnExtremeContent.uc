/*******************************************************************************
 * SkeletalMeshActorBasedOnExtremeContent generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class SkeletalMeshActorBasedOnExtremeContent extends SkeletalMeshActor
    native(Anim)
    placeable
    hidecategories(Navigation);

struct native SkelMaterialSetterDatum
{
    /** This is set so the LD can map specific MaterialIndex on the target to some material */
    var() int MaterialIndex;
    /** This is set so the LD can map specific MaterialIndex on the target to some material */
    var() MaterialInterface TheMaterial;

    structdefaultproperties
    {
        MaterialIndex=0
        TheMaterial=none
    }
};

/** The material to use for ExtremeContent (e.g. blood and gore!) */
var() array<SkelMaterialSetterDatum> ExtremeContent;
/** The material to use for NonExtremeContent (e.g. blackness everywhere there used to be blood and gore) */
var() array<SkelMaterialSetterDatum> NonExtremeContent;

simulated event PostBeginPlay()
{
    super.PostBeginPlay();
    SetMaterialBasedOnExtremeContent();
}

simulated function SetMaterialBasedOnExtremeContent()
{
    local int Idx;

    if(WorldInfo.GRI.ShouldShowGore())
    {
        Idx = 0;
        J0x42:

        if(Idx < ExtremeContent.Length)
        {
            SkeletalMeshComponent.SetMaterial(ExtremeContent[Idx].MaterialIndex, ExtremeContent[Idx].TheMaterial);
            ++ Idx;
            goto J0x42;
        }        
    }
    else
    {
        Idx = 0;
        J0xE1:

        if(Idx < NonExtremeContent.Length)
        {
            SkeletalMeshComponent.SetMaterial(NonExtremeContent[Idx].MaterialIndex, NonExtremeContent[Idx].TheMaterial);
            ++ Idx;
            goto J0xE1;
        }
    }
}

defaultproperties
{
    begin object name=SkeletalMeshComponent0 class=SkeletalMeshComponent
        Animations=AnimNodeSequence'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0.AnimNodeSeq0'
        ReplacementPrimitive=none
        LightEnvironment=DynamicLightEnvironmentComponent'Default__SkeletalMeshActorBasedOnExtremeContent.MyLightEnvironment'
    object end
    // Reference: SkeletalMeshComponent'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0'
    SkeletalMeshComponent=SkeletalMeshComponent0
    LightEnvironment=DynamicLightEnvironmentComponent'Default__SkeletalMeshActorBasedOnExtremeContent.MyLightEnvironment'
    FacialAudioComp=AudioComponent'Default__SkeletalMeshActorBasedOnExtremeContent.FaceAudioComponent'
    begin object name=SkeletalMeshComponent0 class=SkeletalMeshComponent
        Animations=AnimNodeSequence'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0.AnimNodeSeq0'
        ReplacementPrimitive=none
        LightEnvironment=DynamicLightEnvironmentComponent'Default__SkeletalMeshActorBasedOnExtremeContent.MyLightEnvironment'
    object end
    // Reference: SkeletalMeshComponent'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0'
    Components(0)=SkeletalMeshComponent0
    Components(1)=AudioComponent'Default__SkeletalMeshActorBasedOnExtremeContent.FaceAudioComponent'
    CollisionType=ECollisionType.COLLIDE_CustomDefault
    begin object name=SkeletalMeshComponent0 class=SkeletalMeshComponent
        Animations=AnimNodeSequence'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0.AnimNodeSeq0'
        ReplacementPrimitive=none
        LightEnvironment=DynamicLightEnvironmentComponent'Default__SkeletalMeshActorBasedOnExtremeContent.MyLightEnvironment'
    object end
    // Reference: SkeletalMeshComponent'Default__SkeletalMeshActorBasedOnExtremeContent.SkeletalMeshComponent0'
    CollisionComponent=SkeletalMeshComponent0
}