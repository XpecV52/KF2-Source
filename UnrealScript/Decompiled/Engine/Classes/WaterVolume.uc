/*******************************************************************************
 * WaterVolume generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class WaterVolume extends PhysicsVolume
    notplaceable
    hidecategories(Navigation,Object,Movement,Display);

/** Sound played when touched by an actor that can splash */
var() SoundCue EntrySound;
/** Effect spawned when touched by an actor that can splash */
var() class<Actor> EntryActor;
/** Sound played when untouched by an actor that can splash */
var() SoundCue ExitSound;
/** Effect spawned when untouched by an actor that can splash */
var() class<Actor> ExitActor;

simulated event Touch(Actor Other, PrimitiveComponent OtherComp, Vector HitLocation, Vector HitNormal)
{
    super.Touch(Other, OtherComp, HitLocation, HitNormal);
    if(Other.CanSplash())
    {
        PlayEntrySplash(Other);
    }
}

function PlayEntrySplash(Actor Other)
{
    if(EntrySound != none)
    {
        Other.PlaySound(EntrySound);
        if(Other.Instigator != none)
        {
            Other.MakeNoise(1);
        }
    }
    if(EntryActor != none)
    {
        Spawn(EntryActor);
    }
}

event UnTouch(Actor Other)
{
    if(Other.CanSplash())
    {
        PlayExitSplash(Other);
    }
}

function PlayExitSplash(Actor Other)
{
    if(ExitSound != none)
    {
        Other.PlaySound(ExitSound);
        if(Other.Instigator != none)
        {
            Other.MakeNoise(1);
        }
    }
    if(ExitActor != none)
    {
        Spawn(ExitActor);
    }
}

defaultproperties
{
    bWaterVolume=true
    FluidFriction=2.4
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
        RBChannel=ERBCollisionChannel.RBCC_Water
        bDisableAllRigidBody=false
    object end
    // Reference: BrushComponent'Default__WaterVolume.BrushComponent0'
    BrushComponent=BrushComponent0
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
        RBChannel=ERBCollisionChannel.RBCC_Water
        bDisableAllRigidBody=false
    object end
    // Reference: BrushComponent'Default__WaterVolume.BrushComponent0'
    Components(0)=BrushComponent0
    CollisionType=ECollisionType.COLLIDE_CustomDefault
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
        RBChannel=ERBCollisionChannel.RBCC_Water
        bDisableAllRigidBody=false
    object end
    // Reference: BrushComponent'Default__WaterVolume.BrushComponent0'
    CollisionComponent=BrushComponent0
}