/*******************************************************************************
 * PotentialClimbWatcher generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class PotentialClimbWatcher extends Info
    native
    notplaceable
    hidecategories(Navigation,Movement,Collision);

simulated event Tick(float DeltaTime)
{
    local Rotator PawnRot;
    local LadderVolume L;
    local bool bFound;

    if(((Owner == none) || Owner.bDeleteMe) || !Pawn(Owner).CanGrabLadder())
    {
        Destroy();
        return;
    }
    PawnRot = Owner.Rotation;
    PawnRot.Pitch = 0;
    foreach Owner.TouchingActors(Class'LadderVolume', L)
    {
        if(L.Encompasses(Owner))
        {
            if((vector(PawnRot) Dot L.LookDir) > 0.9)
            {
                Pawn(Owner).ClimbLadder(L);
                Destroy();                
                return;
                continue;
            }
            bFound = true;
        }        
    }    
    if(!bFound)
    {
        Destroy();
    }
}

defaultproperties
{
    begin object name=Sprite class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__PotentialClimbWatcher.Sprite'
    Components(0)=Sprite
    CollisionType=ECollisionType.COLLIDE_CustomDefault
}