/*******************************************************************************
 * KFPhysicsDamageByPawnVolume generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFPhysicsDamageByPawnVolume extends PhysicsVolume
    hidecategories(Navigation,Object,Movement,Display);

var() float DamagePerSecMultiplierForHuman;
var() float DamagePerSecMultiplierForMonster;

function CausePainTo(Actor Other)
{
    local float DamagePerSecModified;

    DamagePerSecModified = DamagePerSec;
    if(KFPawn_Human(Other) != none)
    {
        DamagePerSecModified *= DamagePerSecMultiplierForHuman;        
    }
    else
    {
        if(KFPawn_Monster(Other) != none)
        {
            DamagePerSecModified *= DamagePerSecMultiplierForMonster;
        }
    }
    if(DamagePerSecModified > float(0))
    {
        if(WorldInfo.bSoftKillZ && Other.Physics != 1)
        {
            return;
        }
        if((DamageType == none) || DamageType == Class'DamageType')
        {
            LogInternal((("No valid damagetype (" $ string(DamageType)) $ ") specified for ") $ PathName(self));
        }
        Other.TakeDamage(int(DamagePerSecModified * PainInterval), DamageInstigator, Location, vect(0, 0, 1), DamageType,, self);        
    }
    else
    {
        Other.HealDamage(int(-DamagePerSecModified * PainInterval), DamageInstigator, DamageType);
    }
}

defaultproperties
{
    DamagePerSecMultiplierForHuman=1
    DamagePerSecMultiplierForMonster=1
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFPhysicsDamageByPawnVolume.BrushComponent0'
    BrushComponent=BrushComponent0
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFPhysicsDamageByPawnVolume.BrushComponent0'
    Components(0)=BrushComponent0
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFPhysicsDamageByPawnVolume.BrushComponent0'
    CollisionComponent=BrushComponent0
}