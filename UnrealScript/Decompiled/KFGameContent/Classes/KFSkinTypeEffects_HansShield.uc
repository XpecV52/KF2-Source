/*******************************************************************************
 * KFSkinTypeEffects_HansShield generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSkinTypeEffects_HansShield extends KFSkinTypeEffects
    config(Engine)
    hidecategories(Object);

simulated function AttachEffectToHitLocation(KFPawn P, ParticleSystem ParticleTemplate, int HitZoneIndex, Vector HitLocation, Vector HitDirection)
{
    local name HitBoneName;
    local int HitBoneIdx;
    local editinline ParticleSystemComponent PSC;

    if(HitZoneIndex != 255)
    {
        HitBoneName = P.HitZones[HitZoneIndex].BoneName;
        HitBoneIdx = P.Mesh.MatchRefBone(HitBoneName);
        if(HitBoneIdx != -1)
        {
            PSC = P.WorldInfo.ImpactFXEmitterPool.SpawnEmitter(ParticleTemplate, HitLocation, rotator(-HitDirection), P);
            PSC.SetLightingChannels(P.PawnLightingChannel);
            P.LastImpactParticleEffectTime = P.WorldInfo.TimeSeconds;
            PSC.SetAbsolute(false, true, true);
        }
    }
}

defaultproperties
{
    ImpactFX=/* Array type was not detected. */
}