/*******************************************************************************
 * KFProj_HansNerveGasGrenade generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFProj_HansNerveGasGrenade extends KFProj_Grenade
    hidecategories(Navigation);

simulated function PostBeginPlay()
{
    super(KFProjectile).PostBeginPlay();
    SpecialRandSpin(200000);
}

simulated function SpecialRandSpin(float spinRate)
{
    RotationRate.Yaw = int((((spinRate * float(2)) * FRand()) - spinRate) * 0.05);
    RotationRate.Pitch = int(-spinRate);
    RotationRate.Roll = int((((spinRate * float(2)) * FRand()) - spinRate) * 0.05);
}

simulated event GrenadeIsAtRest()
{
    super.GrenadeIsAtRest();
    if(Role == ROLE_Authority)
    {
        ProjEffectsFadeOutDuration = PostExplosionLifetime;
        SetTimer(FuseTime, false, 'ExplodeTimer');
    }
}

protected simulated function StopFlightEffects();

protected simulated function PrepareExplosionTemplate()
{
    ExplosionTemplate.bIgnoreInstigator = true;
}

defaultproperties
{
    FuseTime=1
    ExplosionActorClass=Class'KFExplosion_HansNerveGasGrenade'
    begin object name=ExploTemplate0 class=KFGameExplosion
        ExplosionEffects=KFImpactEffectInfo'ZED_Hans_EMIT.NerveGasGrenade_Explosion'
        Damage=7
        DamageRadius=450
        DamageFalloffExponent=0
        MyDamageType=Class'KFDT_Toxic_HansGrenade'
        KnockDownStrength=0
        MomentumTransferScale=0
        ExplosionSound=AkEvent'WW_ZED_Hans.ZED_Hans_SFX_Grenade_Poison'
        ExploLight=PointLightComponent'Default__KFProj_HansNerveGasGrenade.ExplosionPointLight'
        ExploLightFadeOutTime=1
        ExploLightStartFadeOutTime=7
        ExploLightFlickerIntensity=5
        ExploLightFlickerInterpSpeed=15
        FractureMeshRadius=0
        FracturePartVel=0
        CamShake=KFCameraShake'FX_CameraShake_Arch.Grenades.Default_Grenade'
    object end
    // Reference: KFGameExplosion'Default__KFProj_HansNerveGasGrenade.ExploTemplate0'
    ExplosionTemplate=ExploTemplate0
    ProjDisintegrateTemplate=ParticleSystem'ZED_Siren_EMIT.FX_Siren_grenade_disable_01'
    PostExplosionLifetime=15
    ProjFlightTemplate=ParticleSystem'ZED_Hans_EMIT.FX_Grenade_Nerve_Gas_01'
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFProj_HansNerveGasGrenade.CollisionCylinder'
    CylinderComponent=CollisionCylinder
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFProj_HansNerveGasGrenade.CollisionCylinder'
    Components(0)=CollisionCylinder
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFProj_HansNerveGasGrenade.CollisionCylinder'
    CollisionComponent=CollisionCylinder
}