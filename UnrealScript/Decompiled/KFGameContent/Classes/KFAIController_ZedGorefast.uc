/*******************************************************************************
 * KFAIController_ZedGorefast generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFAIController_ZedGorefast extends KFAIController_Monster
    config(AI)
    hidecategories(Navigation);

var bool bExecutedSprint;

function bool ShouldSprint()
{
    if((((Enemy != none) && MyKFPawn != none) && MyKFPawn.IsCombatCapable()) && (bExecutedSprint || MyKFPawn.Health < MyKFPawn.HealthMax) || VSizeSq(Enemy.Location - Pawn.Location) <= (SprintWithinEnemyRange.Y * SprintWithinEnemyRange.Y))
    {
        bExecutedSprint = true;
        return true;        
    }
    else
    {
        return false;
    }
}

function bool CanSetSprinting(bool bNewSprintStatus)
{
    return bExecutedSprint;
}

event EnemyNotVisible()
{
    if((MyKFPawn.bIsSprinting && !bForceFrustration) && MyKFGameInfo.MyKFGRI.AIRemaining > FrustrationThreshold)
    {
        bExecutedSprint = false;
        MyKFPawn.SetSprinting(false);
    }
    bEnemyIsVisible = false;
    DisableEnemyNotVisible();
    EnableSeePlayer();
}

function UpdateSprintFrustration(optional byte bForceFrustrationState)
{
    bForceFrustrationState = 255;
    if(bForceFrustration)
    {
        bExecutedSprint = true;
        bCanSprint = true;
    }
}

function bool IsFrustrated()
{
    if(bForceFrustration)
    {
        return true;
    }
    return false;
}

defaultproperties
{
    bEvadeOnRunOverWarning=true
    RunOverEvadeDelayScale=0.5
    bIsProbingMeleeRangeEvents=true
    SprintWithinEnemyRange=(X=0,Y=800)
    StrikeRangePercentage=0.75
    MaxMeleeHeightAngle=0.68
    EvadeGrenadeChance=0.75
    LowIntensityAttackCooldown=3
    DangerEvadeSettings=/* Array type was not detected. */
}