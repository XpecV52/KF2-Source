/*******************************************************************************
 * KFVolume_CameraFade generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFVolume_CameraFade extends Volume
    hidecategories(Navigation,Object,Movement,Display);

/** Opacity at the start and end of the fade process */
var() float FadeOpacityStart<ClampMin=0.0|ClampMax=1.0>;
var() float FadeOpacityEnd<ClampMin=0.0|ClampMax=1.0>;
/** Time to use to achieve the fade */
var() float FadeTime;

simulated event Touch(Actor Other, PrimitiveComponent OtherComp, Vector HitLocation, Vector HitNormal)
{
    local Pawn OtherPawn;
    local KFPlayerController KFPC;

    OtherPawn = Pawn(Other);
    if(OtherPawn != none)
    {
        KFPC = KFPlayerController(OtherPawn.Controller);
        if((KFPC != none) && KFPC.IsLocalController())
        {
            if((KFPC.PlayerCamera != none) && KFPC.PlayerCamera.FadeAmount == FadeOpacityEnd)
            {
                return;
            }
            KFPC.ClientSetCameraFade(true, MakeColor(0, 0, 0, 255), vect2d(FadeOpacityStart, FadeOpacityEnd), FadeTime);
        }
    }
}

defaultproperties
{
    FadeTime=0.5
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFVolume_CameraFade.BrushComponent0'
    BrushComponent=BrushComponent0
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFVolume_CameraFade.BrushComponent0'
    Components(0)=BrushComponent0
    begin object name=BrushComponent0 class=BrushComponent
        ReplacementPrimitive=none
    object end
    // Reference: BrushComponent'Default__KFVolume_CameraFade.BrushComponent0'
    CollisionComponent=BrushComponent0
    SupportedEvents=none
}