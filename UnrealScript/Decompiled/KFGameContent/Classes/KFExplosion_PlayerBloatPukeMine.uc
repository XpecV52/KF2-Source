/*******************************************************************************
 * KFExplosion_PlayerBloatPukeMine generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFExplosion_PlayerBloatPukeMine extends KFExplosionActor
    config(Weapon)
    hidecategories(Navigation);

simulated function SpawnExplosionParticleSystem(ParticleSystem Template)
{
    local editinline ParticleSystemComponent PSC;

    if(!ExplosionTemplate.bAllowPerMaterialFX && Template == none)
    {
        Template = KFGameExplosion(ExplosionTemplate).ExplosionEffects.DefaultImpactEffect.ParticleTemplate;
    }
    PSC = WorldInfo.MyEmitterPool.SpawnEmitter(Template, Location, rotator(ExplosionTemplate.HitNormal), none);
    if(PSC != none)
    {
        if(FastTrace(Location - vect(0, 0, 50), Location,, true))
        {
            PSC.SetFloatParameter('FX_Crater', 0);            
        }
        else
        {
            PSC.SetFloatParameter('FX_Crater', 1);
        }
    }
}
