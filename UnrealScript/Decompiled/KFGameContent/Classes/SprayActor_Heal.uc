/*******************************************************************************
 * SprayActor_Heal generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class SprayActor_Heal extends SprayActor_Flame
    config(Game)
    hidecategories(Navigation,Object,Movement,Display,Attachment,Collision,Physics,Advanced,Debug,Mobile,Object,Movement,Display,Attachment,Collision,Physics,Advanced,Debug,Mobile);

var(SprayHeal) int DirectHitHealingAmount;
var(SprayHeal) int SplashHitHealingAmount;
var(SprayHeal) float HealInterval;
var class<DamageType> HealingDamageType;
var array<DamagedActorInfo> RecentlyHealedActors;

function bool CheckRecentlyHealed(Actor ActorToCheck)
{
    local int I;
    local bool bFoundHitActor, bHealedRecently;

    I = RecentlyHealedActors.Length - 1;
    J0x17:

    if(I >= 0)
    {
        if((WorldInfo.TimeSeconds - RecentlyHealedActors[I].HitTime) > 1)
        {
            RecentlyHealedActors.Remove(I, 1;            
        }
        else
        {
            if(!bFoundHitActor && RecentlyHealedActors[I].HitActor == ActorToCheck)
            {
                bFoundHitActor = true;
                if((WorldInfo.TimeSeconds - RecentlyHealedActors[I].HitTime) < HealInterval)
                {
                    bHealedRecently = true;
                }
            }
        }
        -- I;
        goto J0x17;
    }
    return bHealedRecently;
}

event SprayMeshHit(Actor TouchActor)
{
    local DamagedActorInfo NewActorInfo;

    if(Role == ROLE_Authority)
    {
        if((((Instigator != none) && TouchActor != none) && Instigator != TouchActor) && Instigator.GetTeamNum() == TouchActor.GetTeamNum())
        {
            if(!CheckRecentlyHealed(TouchActor))
            {
                NewActorInfo.HitActor = TouchActor;
                NewActorInfo.HitTime = WorldInfo.TimeSeconds;
                RecentlyHealedActors.AddItem(NewActorInfo;
                TouchActor.HealDamage(DirectHitHealingAmount, Instigator.Controller, HealingDamageType);
                return;
            }
        }
    }
    super(KFSprayActor).SprayMeshHit(TouchActor);
}

event SplashHit(Actor SplashTouchActor)
{
    local DamagedActorInfo NewActorInfo;

    if(Role == ROLE_Authority)
    {
        if((((Instigator != none) && SplashTouchActor != none) && Instigator != SplashTouchActor) && Instigator.GetTeamNum() == SplashTouchActor.GetTeamNum())
        {
            if(!CheckRecentlyHealed(SplashTouchActor))
            {
                NewActorInfo.HitActor = SplashTouchActor;
                NewActorInfo.HitTime = WorldInfo.TimeSeconds;
                RecentlyHealedActors.AddItem(NewActorInfo;
                SplashTouchActor.HealDamage(SplashHitHealingAmount, Instigator.Controller, HealingDamageType);
                return;
            }
        }
    }
    super(KFSprayActor).SplashHit(SplashTouchActor);
}

defaultproperties
{
    DirectHitHealingAmount=2
    SplashHitHealingAmount=1
    HealInterval=0.1
    HealingDamageType=Class'KFDT_Healing_MedicGrenade'
    begin object name=Bone01_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone01_PSC0'
    BoneChainComponents(0)=Bone01_PSC0
    begin object name=Bone01_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone01_PSC0'
    BoneChainComponents(1)=Bone01_PSC0
    begin object name=Bone02_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone02_PSC0'
    BoneChainComponents(2)=Bone02_PSC0
    begin object name=Bone03_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone03_PSC0'
    BoneChainComponents(3)=Bone03_PSC0
    begin object name=Bone04_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone04_PSC0'
    BoneChainComponents(4)=Bone04_PSC0
    begin object name=Bone05_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone05_PSC0'
    BoneChainComponents(5)=Bone05_PSC0
    begin object name=Bone06_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone06_PSC0'
    BoneChainComponents(6)=Bone06_PSC0
    begin object name=Bone07_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone07_PSC0'
    BoneChainComponents(7)=Bone07_PSC0
    begin object name=Bone08_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone08_PSC0'
    BoneChainComponents(8)=Bone08_PSC0
    begin object name=Bone09_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone09_PSC0'
    BoneChainComponents(9)=Bone09_PSC0
    begin object name=Bone10_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone10_PSC0'
    BoneChainComponents(10)=Bone10_PSC0
    begin object name=Bone11_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone11_PSC0'
    BoneChainComponents(11)=Bone11_PSC0
    begin object name=Bone12_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone12_PSC0'
    BoneChainComponents(12)=Bone12_PSC0
    begin object name=Bone13_PSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone13_PSC0'
    BoneChainComponents(13)=Bone13_PSC0
    begin object name=Bone01_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone01_PSC1'
    BoneChainComponents_1stP(0)=Bone01_PSC1
    begin object name=Bone01_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone01_PSC1'
    BoneChainComponents_1stP(1)=Bone01_PSC1
    begin object name=Bone02_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone02_PSC1'
    BoneChainComponents_1stP(2)=Bone02_PSC1
    begin object name=Bone03_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone03_PSC1'
    BoneChainComponents_1stP(3)=Bone03_PSC1
    begin object name=Bone04_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone04_PSC1'
    BoneChainComponents_1stP(4)=Bone04_PSC1
    begin object name=Bone05_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone05_PSC1'
    BoneChainComponents_1stP(5)=Bone05_PSC1
    begin object name=Bone06_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone06_PSC1'
    BoneChainComponents_1stP(6)=Bone06_PSC1
    begin object name=Bone07_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone07_PSC1'
    BoneChainComponents_1stP(7)=Bone07_PSC1
    begin object name=Bone08_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone08_PSC1'
    BoneChainComponents_1stP(8)=Bone08_PSC1
    begin object name=Bone09_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone09_PSC1'
    BoneChainComponents_1stP(9)=Bone09_PSC1
    begin object name=Bone10_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone10_PSC1'
    BoneChainComponents_1stP(10)=Bone10_PSC1
    begin object name=Bone11_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone11_PSC1'
    BoneChainComponents_1stP(11)=Bone11_PSC1
    begin object name=Bone12_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone12_PSC1'
    BoneChainComponents_1stP(12)=Bone12_PSC1
    begin object name=Bone13_PSC1 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.Bone13_PSC1'
    BoneChainComponents_1stP(13)=Bone13_PSC1
    begin object name=FlameCore0 class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__SprayActor_Heal.FlameCore0'
    SkeletalSprayMesh=FlameCore0
    bCollideWithTeammates=true
    BoneChain=/* Array type was not detected. */
    begin object name=SplashGlancingPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashGlancingPSC0'
    SplashGlancingPSC=SplashGlancingPSC0
    begin object name=SplashDirectPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashDirectPSC0'
    SplashDirectPSC=SplashDirectPSC0
    begin object name=SplashPawnPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashPawnPSC0'
    SplashPawnPSC=SplashPawnPSC0
    begin object name=SplashMaterialBasedPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashMaterialBasedPSC0'
    SplashMaterialBasedPSC=SplashMaterialBasedPSC0
    CurrentSplashAKC=AkComponent'Default__SprayActor_Heal.CurrentSplashAkSoundComponent'
    SprayLights=/* Array type was not detected. */
    begin object name=StartFirePSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.StartFirePSC0'
    SprayStartPSC=StartFirePSC0
    MyDamageType=Class'KFGame.KFDT_Toxic_MedicGrenade'
    begin object name=FlameCore0 class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__SprayActor_Heal.FlameCore0'
    Components(0)=FlameCore0
    begin object name=SplashGlancingPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashGlancingPSC0'
    Components(1)=SplashGlancingPSC0
    begin object name=SplashDirectPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashDirectPSC0'
    Components(2)=SplashDirectPSC0
    begin object name=SplashPawnPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashPawnPSC0'
    Components(3)=SplashPawnPSC0
    begin object name=SplashMaterialBasedPSC0 class=KFParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFParticleSystemComponent'Default__SprayActor_Heal.SplashMaterialBasedPSC0'
    Components(4)=SplashMaterialBasedPSC0
    Components(5)=AkComponent'Default__SprayActor_Heal.CurrentSplashAkSoundComponent'
    begin object name=FlameCore0 class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__SprayActor_Heal.FlameCore0'
    CollisionComponent=FlameCore0
}