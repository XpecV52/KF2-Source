/*******************************************************************************
 * KFSM_Hans_ThrowGrenade generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSM_Hans_ThrowGrenade extends KFSM_PlaySingleAnim;

function SpecialMoveStarted(bool bForced, name PrevMove)
{
    local KFPawn_ZedHansBase HansPawn;

    super.SpecialMoveStarted(bForced, PrevMove);
    KFPOwner.ZeroMovementVariables();
    if(AIOwner != none)
    {
        if(AIOwner != none)
        {
            AIOwner.AILog_Internal((string(self) @ "started for") @ string(AIOwner), 'Siren');
        }
    }
    HansPawn = KFPawn_ZedHansBase(PawnOwner);
    if(HansPawn != none)
    {
        HansPawn.PlayGrenadeDialog(false);
    }
}

function SpecialMoveEnded(name PrevMove, name NextMove)
{
    super.SpecialMoveEnded(PrevMove, NextMove);
    if(AIOwner != none)
    {
        if(AIOwner != none)
        {
            AIOwner.AILog_Internal((string(self) @ "ended for") @ string(AIOwner), 'Siren');
        }
    }
}

protected function bool InternalCanDoSpecialMove()
{
    if(((((PawnOwner == none) || PawnOwner.Health <= 0) || AIOwner == none) || AIOwner.Enemy == none) || AIOwner.Enemy.Health <= 0)
    {
        return false;
    }
    return super(KFSpecialMove).InternalCanDoSpecialMove();
}

defaultproperties
{
    AnimName=Atk_Nade_V1
    bDisablesWeaponFiring=true
    bDisableMovement=true
    bDisableSteering=false
    Handle=KFSM_Hans_ThrowGrenade
}