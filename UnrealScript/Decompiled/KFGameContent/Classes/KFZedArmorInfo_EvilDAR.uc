/*******************************************************************************
 * KFZedArmorInfo_EvilDAR generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFZedArmorInfo_EvilDAR extends KFZedArmorInfo within KFPawn_Monster;

function AdjustBoneDamage(out int InDamage, name BoneName, Vector DamagerSource, class<DamageType> DamageType)
{
    local byte PrevArmorZoneStatus;
    local int UpdatedZones;

    PrevArmorZoneStatus = Outer.PreviousArmorZoneStatus;
    super.AdjustBoneDamage(InDamage, BoneName, DamagerSource, DamageType);
    UpdatedZones = Outer.ArmorZoneStatus ^ PrevArmorZoneStatus;
    if(bool(UpdatedZones & (1 << 0)))
    {
        Outer.HitZones[0].GoreHealth = 0;
    }
}

simulated function UpdateArmorPiece(int PieceIdx)
{
    super.UpdateArmorPiece(PieceIdx);
    switch(ArmorZones[PieceIdx].ArmorZoneName)
    {
        case 'head':
            Outer.Mesh.DetachComponent(Outer.StaticAttachList[0]);
            Outer.DetachComponent(Outer.StaticAttachList[0]);
            Outer.StaticAttachList.Remove(0, 1;
            break;
        case 'Front':
            Outer.DetachComponent(Outer.ThirdPersonAttachments[0]);
            Outer.ThirdPersonAttachments[0] = none;
            break;
        default:
            break;
    }
}

defaultproperties
{
    ArmorZones=/* Array type was not detected. */
    ArmorScale=1
    ArmorDamageTypeModifiers=/* Array type was not detected. */
}