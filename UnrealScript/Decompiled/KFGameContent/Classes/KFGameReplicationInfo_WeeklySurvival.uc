/*******************************************************************************
 * KFGameReplicationInfo_WeeklySurvival generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFGameReplicationInfo_WeeklySurvival extends KFGameReplicationInfo
    config(Game)
    hidecategories(Navigation,Movement,Collision);

struct SBrokeTraderPickupItem
{
    /** Weapons available for spawning */
    var() array< class<KFWeaponDefinition> > WeaponClasses;

    structdefaultproperties
    {
        WeaponClasses=none
    }
};

var() array<SBrokeTraderPickupItem> BrokenTraderItemPickups;

simulated function array<int> GetKFSeqEventLevelLoadedIndices()
{
    local array<int> ActivateIndices;

    ActivateIndices[0] = 7;
    return ActivateIndices;
}

simulated function OverrideWeaponPickups(out KFPickupFactory_Item ItemFactory)
{
    local int Idx;
    local ItemPickup Pickup;

    if(ItemFactory == none)
    {
        return;
    }
    if((BrokenTraderItemPickups.Length == 0) || WaveNum > BrokenTraderItemPickups.Length)
    {
        return;
    }
    ItemFactory.ItemPickups.Remove(0, ItemFactory.ItemPickups.Length;
    Idx = 0;
    J0x8A:

    if(Idx < BrokenTraderItemPickups[WaveNum - 1].WeaponClasses.Length)
    {
        Pickup.ItemClass = class<KFWeapon>(DynamicLoadObject(BrokenTraderItemPickups[WaveNum - 1].WeaponClasses[Idx].default.WeaponClassPath, Class'Class'));
        ItemFactory.ItemPickups.AddItem(Pickup;
        ++ Idx;
        goto J0x8A;
    }
}

simulated function NotifyWaveStart()
{
    local KFPickupFactory_Item ItemFactory;

    if((WorldInfo.NetMode == NM_Client) && bIsBrokenTrader)
    {
        foreach AllActors(Class'KFPickupFactory_Item', ItemFactory)
        {
            OverrideWeaponPickups(ItemFactory);
            ItemFactory.SetPickupMesh();            
        }        
    }
    super.NotifyWaveStart();
}

defaultproperties
{
    BrokenTraderItemPickups(0)=(WeaponClasses=(class'KFWeapDef_9mmDual',class'KFWeapDef_Crovel',class'KFWeapDef_MB500',class'KFWeapDef_MedicPistol',class'KFWeapDef_HX25',class'KFWeapDef_CaulkBurn',class'KFWeapDef_Remington1858Dual',class'KFWeapDef_Winchester1894',class'KFWeapDef_MP7',class'KFWeapDef_AR15'))
    BrokenTraderItemPickups(1)=(WeaponClasses=(class'KFWeapDef_Nailgun',class'KFWeapDef_Katana',class'KFWeapDef_ChainBat',class'KFWeapDef_FireAxe',class'KFWeapDef_Bullpup',class'KFWeapDef_Thompson',class'KFWeapDef_DoubleBarrel',class'KFWeapDef_HZ12',class'KFWeapDef_DragonsBreath',class'KFWeapDef_MedicSMG',class'KFWeapDef_Healthrower_HRG',class'KFWeapDef_M79',class'KFWeapDef_FlareGunDual',class'KFWeapDef_Mac10',class'KFWeapDef_HRGScorcher',class'KFWeapDef_Colt1911Dual',class'KFWeapDef_HRGWinterbite',class'KFWeapDef_CenterfireMB464',class'KFWeapDef_Crossbow',class'KFWeapDef_MP5RAS'))
    BrokenTraderItemPickups(2)=(WeaponClasses=(class'KFWeapDef_Nailgun',class'KFWeapDef_Katana',class'KFWeapDef_ChainBat',class'KFWeapDef_FireAxe',class'KFWeapDef_Bullpup',class'KFWeapDef_Thompson',class'KFWeapDef_DoubleBarrel',class'KFWeapDef_HZ12',class'KFWeapDef_DragonsBreath',class'KFWeapDef_MedicSMG',class'KFWeapDef_Healthrower_HRG',class'KFWeapDef_M79',class'KFWeapDef_FlareGunDual',class'KFWeapDef_Mac10',class'KFWeapDef_HRGScorcher',class'KFWeapDef_Colt1911Dual',class'KFWeapDef_HRGWinterbite',class'KFWeapDef_CenterfireMB464',class'KFWeapDef_Crossbow',class'KFWeapDef_MP5RAS'))
    BrokenTraderItemPickups(3)=(WeaponClasses=(class'KFWeapDef_MedicBat',class'KFWeapDef_Pulverizer',class'KFWeapDef_Rifle_FrostShotgunAxe',class'KFWeapDef_AK12',class'KFWeapDef_MKB42',class'KFWeapDef_M16M203',class'KFWeapDef_M4',class'KFWeapDef_SW500Dual_HRG',class'KFWeapDef_MedicShotgun',class'KFWeapDef_Hemogoblin',class'KFWeapDef_Mine_Reconstructor',class'KFWeapDef_SealSqueal',class'KFWeapDef_FlameThrower',class'KFWeapDef_HRGIncendiaryRifle',class'KFWeapDef_ChiappaRhinoDual',class'KFWeapDef_DeagleDual',class'KFWeapDef_M14EBR',class'KFWeapDef_HRG_SonicGun',class'KFWeapDef_MosinNagant',class'KFWeapDef_P90',class'KFWeapDef_Nailgun_HRG',class'KFWeapDef_HK_UMP',class'KFWeapDef_FreezeThrower',class'KFWeapDef_HRG_Kaboomstick',class'KFWeapDef_FAMAS'))
    BrokenTraderItemPickups(4)=(WeaponClasses=(class'KFWeapDef_MedicBat',class'KFWeapDef_Rifle_FrostShotgunAxe',class'KFWeapDef_M16M203',class'KFWeapDef_M4',class'KFWeapDef_MedicShotgun',class'KFWeapDef_FlameThrower',class'KFWeapDef_HRGIncendiaryRifle',class'KFWeapDef_DeagleDual',class'KFWeapDef_HRG_SonicGun',class'KFWeapDef_MosinNagant',class'KFWeapDef_HK_UMP',class'KFWeapDef_FreezeThrower',class'KFWeapDef_HRG_Kaboomstick',class'KFWeapDef_FAMAS',class'KFWeapDef_Eviscerator',class'KFWeapDef_FNFal',class'KFWeapDef_MedicRifle',class'KFWeapDef_ElephantGun',class'KFWeapDef_Seeker6',class'KFWeapDef_HuskCannon',class'KFWeapDef_SW500Dual',class'KFWeapDef_Kriss',class'KFWeapDef_HRG_EMP_ArcGenerator'))
    BrokenTraderItemPickups(5)=(WeaponClasses=(class'KFWeapDef_HRGTeslauncher',class'KFWeapDef_Eviscerator',class'KFWeapDef_MaceAndShield',class'KFWeapDef_PowerGloves',class'KFWeapDef_SCAR',class'KFWeapDef_Stoner63A',class'KFWeapDef_MedicRifle',class'KFWeapDef_FNFal',class'KFWeapDef_AA12',class'KFWeapDef_ElephantGun',class'KFWeapDef_Blunderbuss',class'KFWeapDef_HRGIncision',class'KFWeapDef_HRG_Vampire',class'KFWeapDef_RPG7',class'KFWeapDef_Seeker6',class'KFWeapDef_HuskCannon',class'KFWeapDef_MicrowaveGun',class'KFWeapDef_SW500Dual',class'KFWeapDef_AF2011Dual',class'KFWeapDef_Pistol_DualG18',class'KFWeapDef_RailGun',class'KFWeapDef_G18',class'KFWeapDef_Kriss',class'KFWeapDef_HRG_EMP_ArcGenerator',class'KFWeapDef_AbominationAxe',class'KFWeapDef_Minigun',class'KFWeapDef_MedicRifleGrenadeLauncher',class'KFWeapDef_MicrowaveRifle',class'KFWeapDef_CompoundBow',class'KFWeapDef_M99',class'KFWeapDef_LazerCutter',class'KFWeapDef_HRG_BlastBrawlers',class'KFWeapDef_ThermiteBore',class'KFWeapDef_HRG_BarrierRifle'))
    BrokenTraderItemPickups(6)=(WeaponClasses=(class'KFWeapDef_HRGTeslauncher',class'KFWeapDef_Eviscerator',class'KFWeapDef_MaceAndShield',class'KFWeapDef_PowerGloves',class'KFWeapDef_SCAR',class'KFWeapDef_Stoner63A',class'KFWeapDef_MedicRifle',class'KFWeapDef_FNFal',class'KFWeapDef_AA12',class'KFWeapDef_ElephantGun',class'KFWeapDef_Blunderbuss',class'KFWeapDef_HRGIncision',class'KFWeapDef_HRG_Vampire',class'KFWeapDef_RPG7',class'KFWeapDef_Seeker6',class'KFWeapDef_HuskCannon',class'KFWeapDef_MicrowaveGun',class'KFWeapDef_SW500Dual',class'KFWeapDef_AF2011Dual',class'KFWeapDef_Pistol_DualG18',class'KFWeapDef_RailGun',class'KFWeapDef_G18',class'KFWeapDef_Kriss',class'KFWeapDef_HRG_EMP_ArcGenerator',class'KFWeapDef_AbominationAxe',class'KFWeapDef_Minigun',class'KFWeapDef_MedicRifleGrenadeLauncher',class'KFWeapDef_MicrowaveRifle',class'KFWeapDef_CompoundBow',class'KFWeapDef_M99',class'KFWeapDef_LazerCutter',class'KFWeapDef_HRG_BlastBrawlers',class'KFWeapDef_ThermiteBore',class'KFWeapDef_HRG_BarrierRifle'))
    BrokenTraderItemPickups(7)=(WeaponClasses=(class'KFWeapDef_HRGTeslauncher',class'KFWeapDef_Eviscerator',class'KFWeapDef_MaceAndShield',class'KFWeapDef_PowerGloves',class'KFWeapDef_SCAR',class'KFWeapDef_Stoner63A',class'KFWeapDef_MedicRifle',class'KFWeapDef_FNFal',class'KFWeapDef_AA12',class'KFWeapDef_ElephantGun',class'KFWeapDef_Blunderbuss',class'KFWeapDef_HRGIncision',class'KFWeapDef_HRG_Vampire',class'KFWeapDef_RPG7',class'KFWeapDef_Seeker6',class'KFWeapDef_HuskCannon',class'KFWeapDef_MicrowaveGun',class'KFWeapDef_SW500Dual',class'KFWeapDef_AF2011Dual',class'KFWeapDef_Pistol_DualG18',class'KFWeapDef_RailGun',class'KFWeapDef_G18',class'KFWeapDef_Kriss',class'KFWeapDef_HRG_EMP_ArcGenerator',class'KFWeapDef_AbominationAxe',class'KFWeapDef_Minigun',class'KFWeapDef_MedicRifleGrenadeLauncher',class'KFWeapDef_MicrowaveRifle',class'KFWeapDef_CompoundBow',class'KFWeapDef_M99',class'KFWeapDef_LazerCutter',class'KFWeapDef_HRG_BlastBrawlers',class'KFWeapDef_ThermiteBore',class'KFWeapDef_HRG_BarrierRifle'))
    bIsWeeklyMode=true
}