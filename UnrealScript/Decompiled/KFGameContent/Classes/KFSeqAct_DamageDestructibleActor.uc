/*******************************************************************************
 * KFSeqAct_DamageDestructibleActor generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSeqAct_DamageDestructibleActor extends SequenceAction
    forcescriptorder(true)
    hidecategories(Object);

var() class<DamageType> Type<AllowAbstract=>;
var() int Amount;
var() bool bInstaKillDamage;

event Activated()
{
    local int DamageAmount;
    local KFDestructibleActor DestructibleInput;
    local SeqVar_Object ObjectInput;

    foreach LinkedVariables(Class'SeqVar_Object', ObjectInput, "Destructible Actor")
    {
        DestructibleInput = KFDestructibleActor(ObjectInput.GetObjectValue());
        if(DestructibleInput != none)
        {
            if(bInstaKillDamage)
            {
                DamageAmount = DestructibleInput.GetInstaKillDamage();                
            }
            else
            {
                DamageAmount = Amount;
            }
            DestructibleInput.TakeDamage(DamageAmount, none, vect(0, 0, 0), vect(0, 0, 0), Type);
        }        
    }    
}

defaultproperties
{
    VariableLinks(0)=(ExpectedType=Class'Engine.SeqVar_Object',LinkedVariables=none,LinkDesc="Destructible Actor",LinkVar=None,PropertyName=None,bWriteable=false,bSequenceNeverReadsOnlyWritesToThisVar=false,bModifiesLinkedObject=false,bHidden=false,MinVars=1,MaxVars=255,DrawX=0,CachedProperty=none,bAllowAnyType=false,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    ObjName="Damage Destructible Actor"
    ObjCategory="Killing Floor"
}