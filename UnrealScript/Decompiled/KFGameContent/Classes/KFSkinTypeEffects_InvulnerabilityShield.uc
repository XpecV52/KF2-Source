/*******************************************************************************
 * KFSkinTypeEffects_InvulnerabilityShield generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSkinTypeEffects_InvulnerabilityShield extends KFSkinTypeEffects
    config(Engine)
    hidecategories(Object);

function bool ConfigureEmitter(KFPawn P, Vector InHitLocation, Vector InHitDirection, int HitZoneIndex, out Vector OutHitLocation, out Vector OutHitDirection, out name OutHitBoneName, KFGame.KFSkinTypeEffects.EEffectDamageGroup EffectGroup)
{
    if(HitZoneIndex >= P.HitZones.Length)
    {
        return false;
    }
    OutHitDirection = -InHitDirection;
    OutHitBoneName = P.HitZones[HitZoneIndex].BoneName;
    return true;
}

function ParticleSystemComponent SpawnEmitter(KFPawn P, ParticleSystem ParticleTemplate, optional name HitBoneName, optional Vector HitLocation, optional Vector HitDirection)
{
    local editinline ParticleSystemComponent PSC;

    PSC = P.WorldInfo.ImpactFXEmitterPool.SpawnEmitter(ParticleTemplate, HitLocation, rotator(HitDirection), P);
    if(PSC != none)
    {
        PSC.SetLightingChannels(P.PawnLightingChannel);
    }
    return PSC;
}
