/*******************************************************************************
 * KFAIController_ZedSiren generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFAIController_ZedSiren extends KFAIController_Monster
    config(AI)
    hidecategories(Navigation);

function PreMoveToEnemy()
{
    if((MyKFPawn.SpecialMove == 16) || (MyKFPawn.SpecialMove == 0) && !IsTimerActive('DoScream'))
    {
        DoScream();
    }
}

function NotifySpecialMoveEnded(KFSpecialMove SM)
{
    if(SM.Handle == 'KFSM_Stumble')
    {
        SetTimer(0.4, false, 'DoScream');
    }
}

function DoScream()
{
    if(IsInStumble())
    {
        return;
    }
    if((MyKFPawn.SpecialMove == 0) || MyKFPawn.SpecialMove == 16)
    {
        Class'AICommand_Siren_Scream'.static.Scream(self);
    }
}

function NotifyMeleeAttackFinished()
{
    if(MyKFPawn != none)
    {
        MyKFPawn.NotifyMeleeAttackFinished();
    }
}

function EnterZedVictoryState()
{
    if(IsTimerActive('DoScream'))
    {
        ClearTimer('DoScream');
    }
    super(KFAIController).EnterZedVictoryState();
}

defaultproperties
{
    bIsProbingMeleeRangeEvents=true
    SprintWithinEnemyRange=(X=600,Y=1200)
}