/*******************************************************************************
 * KFSeqAct_BloodRain generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSeqAct_BloodRain extends SequenceAction
    forcescriptorder(true)
    hidecategories(Object);

event Activated()
{
    local WorldInfo WI;
    local SeqVar_Object ObjVar;
    local KFBloodRainVolume BRV;
    local bool bVolumesAreActive;

    WI = GetWorldInfo();
    if((WI == none) || WI.NetMode == NM_DedicatedServer)
    {
        return;
    }
    if(InputLinks[0].bHasImpulse)
    {
        bVolumesAreActive = true;        
    }
    else
    {
        if(InputLinks[1].bHasImpulse)
        {
            bVolumesAreActive = false;            
        }
        else
        {
            return;
        }
    }
    if(VariableLinks[0].LinkedVariables.Length == 0)
    {
        foreach WI.AllActors(Class'KFBloodRainVolume', BRV)
        {
            BRV.SetActive(bVolumesAreActive);            
        }                
    }
    else
    {
        foreach LinkedVariables(Class'SeqVar_Object', ObjVar, "Specific Blood Rain Volumes (if none are specified, all are used)")
        {
            BRV = KFBloodRainVolume(ObjVar.GetObjectValue());
            if(BRV != none)
            {
                BRV.SetActive(bVolumesAreActive);
            }            
        }        
    }
}

defaultproperties
{
    InputLinks(0)=(LinkDesc="Start",bHasImpulse=false,QueuedActivations=0,bDisabled=false,bDisabledPIE=false,LinkedOp=none,DrawY=0,bHidden=false,ActivateDelay=0,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    InputLinks(1)=(LinkDesc="Stop",bHasImpulse=false,QueuedActivations=0,bDisabled=false,bDisabledPIE=false,LinkedOp=none,DrawY=0,bHidden=false,ActivateDelay=0,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    OutputLinks=none
    VariableLinks(0)=(ExpectedType=Class'Engine.SeqVar_Object',LinkedVariables=none,LinkDesc="Specific Blood Rain Volumes (if none are specified, all are used)",LinkVar=None,PropertyName=None,bWriteable=false,bSequenceNeverReadsOnlyWritesToThisVar=false,bModifiesLinkedObject=false,bHidden=false,MinVars=1,MaxVars=255,DrawX=0,CachedProperty=none,bAllowAnyType=false,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    ObjName="Blood Rain"
    ObjCategory="Killing Floor"
}