/*******************************************************************************
 * KFPickupFactory_Ammo generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFPickupFactory_Ammo extends KFPickupFactory
    hidecategories(Navigation,Lighting,LightColor,Force);

/** Sound to play when picking up ammo */
var() AkEvent AmmoPickupSound;

simulated function InitializePickup()
{
    local KFGameInfo KFGI;

    KFGI = KFGameInfo(WorldInfo.Game);
    if(KFGI != none)
    {
        KFGI.AmmoPickups.AddItem(self;
    }
}

simulated event SetInitialState()
{
    bScriptInitialized = true;
}

function GiveTo(Pawn P)
{
    local KFInventoryManager KFIM;

    KFIM = KFInventoryManager(P.InvManager);
    if(KFIM != none)
    {
        if(KFIM.GiveWeaponsAmmo(true))
        {
            if(Class'KFGameInfo'.static.AllowBalanceLogging())
            {
                WorldInfo.LogGameBalance((((string('Pickup') $ ",") $ P.PlayerReplicationInfo.PlayerName) $ ",") $ "Ammo");
            }
            if(WorldInfo.GRI.GameClass.static.AllowAnalyticsLogging())
            {
                WorldInfo.TWLogEvent("pickup", P.PlayerReplicationInfo, "ammo");
            }
            PickedUpBy(P);
        }
    }
}

function PickedUpBy(Pawn P)
{
    local KFGameInfo KFGI;

    KFGI = KFGameInfo(WorldInfo.Game);
    if(KFGI != none)
    {
        KFGI.EnableNewPickup(KFGI.AmmoPickups, KFGI.DifficultyInfo.GetAmmoPickupInterval(byte(KFGI.GetLivingPlayerCount())), self);
    }
}

function bool CurrentPickupIsAmmo()
{
    return true;
}

defaultproperties
{
    AmmoPickupSound=AkEvent'WW_UI_PlayerCharacter.Play_UI_Pickup_Ammo'
    begin object name=StaticMeshComponent0 class=StaticMeshComponent
        StaticMesh=StaticMesh'ENV_Horzine_MESH.crates.ENV_Horzine_Equiptment_Crate_02'
        Materials=/* Array type was not detected. */
        ReplacementPrimitive=none
        bCastDynamicShadow=false
        CollideActors=false
        Translation=(X=0,Y=0,Z=-50)
        Scale=0.5
    object end
    // Reference: StaticMeshComponent'Default__KFPickupFactory_Ammo.StaticMeshComponent0'
    PickupMesh=StaticMeshComponent0
    bNotBased=true
    begin object name=CollisionCylinder class=CylinderComponent
        CollisionHeight=50
        CollisionRadius=100
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPickupFactory_Ammo.CollisionCylinder'
    CylinderComponent=CollisionCylinder
    begin object name=Sprite class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFPickupFactory_Ammo.Sprite'
    GoodSprite=Sprite
    begin object name=Sprite2 class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFPickupFactory_Ammo.Sprite2'
    BadSprite=Sprite2
    begin object name=Sprite class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFPickupFactory_Ammo.Sprite'
    Components(0)=Sprite
    begin object name=Sprite2 class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFPickupFactory_Ammo.Sprite2'
    Components(1)=Sprite2
    begin object name=Arrow class=ArrowComponent
        ReplacementPrimitive=none
    object end
    // Reference: ArrowComponent'Default__KFPickupFactory_Ammo.Arrow'
    Components(2)=Arrow
    begin object name=CollisionCylinder class=CylinderComponent
        CollisionHeight=50
        CollisionRadius=100
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPickupFactory_Ammo.CollisionCylinder'
    Components(3)=CollisionCylinder
    begin object name=PathRenderer class=PathRenderingComponent
        ReplacementPrimitive=none
    object end
    // Reference: PathRenderingComponent'Default__KFPickupFactory_Ammo.PathRenderer'
    Components(4)=PathRenderer
    begin object name=StaticMeshComponent0 class=StaticMeshComponent
        StaticMesh=StaticMesh'ENV_Horzine_MESH.crates.ENV_Horzine_Equiptment_Crate_02'
        Materials=/* Array type was not detected. */
        ReplacementPrimitive=none
        bCastDynamicShadow=false
        CollideActors=false
        Translation=(X=0,Y=0,Z=-50)
        Scale=0.5
    object end
    // Reference: StaticMeshComponent'Default__KFPickupFactory_Ammo.StaticMeshComponent0'
    Components(5)=StaticMeshComponent0
    begin object name=CollisionCylinder class=CylinderComponent
        CollisionHeight=50
        CollisionRadius=100
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPickupFactory_Ammo.CollisionCylinder'
    CollisionComponent=CollisionCylinder
}