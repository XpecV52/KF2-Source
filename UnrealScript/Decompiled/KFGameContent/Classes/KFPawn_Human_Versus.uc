/*******************************************************************************
 * KFPawn_Human_Versus generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFPawn_Human_Versus extends KFPawn_Human
    config(Game)
    hidecategories(Navigation);

simulated function SetCharacterArch(KFCharacterInfoBase Info, optional bool bForce)
{
    super.SetCharacterArch(Info, bForce);
    SetGameplayMICParams();
}

simulated function SetGameplayMICParams()
{
    local PlayerController PC;

    super(KFPawn).SetGameplayMICParams();
    if(WorldInfo.NetMode != NM_DedicatedServer)
    {
        PC = GetALocalPlayerController();
        if(PC != none)
        {
            if(BodyMIC != none)
            {
                BodyMIC.SetScalarParameterValue('Scalar_Zedbait', ((PC.GetTeamNum() == 255) ? 1 : 0));
            }
            if(HeadMIC != none)
            {
                HeadMIC.SetScalarParameterValue('Scalar_Zedbait', ((PC.GetTeamNum() == 255) ? 1 : 0));
            }
        }
    }
}

simulated function NotifyLocalPlayerTeamReceived()
{
    SetGameplayMICParams();
}

event TakeDamage(int Damage, Controller InstigatedBy, Vector HitLocation, Vector Momentum, class<DamageType> DamageType, optional TraceHitInfo HitInfo, optional Actor DamageCauser)
{
    local int OldHealth, AppliedDamage;

    OldHealth = Health;
    super.TakeDamage(Damage, InstigatedBy, HitLocation, Momentum, DamageType, HitInfo, DamageCauser);
    if(OldHealth > Health)
    {
        AppliedDamage = OldHealth - Health;
    }
    if(AppliedDamage > 0)
    {
        if(KFGameInfo_VersusSurvival(WorldInfo.Game) != none)
        {
            KFGameInfo_VersusSurvival(WorldInfo.Game).ScoreDamage(AppliedDamage, InstigatedBy, Controller, self);
        }
    }
}

defaultproperties
{
    begin object name=FlashLight class=KFFlashlightAttachment
        begin object name=FlashLightTemplate class=SpotLightComponent
            LightGuid=(A=-577619726,B=1088173321,C=767371434,D=-1174157011)
            LightmapGuid=(A=1602629714,B=1252009303,C=-140395094,D=-1846746219)
        object end
        // Reference: SpotLightComponent'Default__KFPawn_Human_Versus.FlashLight.FlashLightTemplate'
        LightTemplate=FlashLightTemplate
        begin object name=LightConeComp class=StaticMeshComponent
            ReplacementPrimitive=none
        object end
        // Reference: StaticMeshComponent'Default__KFPawn_Human_Versus.FlashLight.LightConeComp'
        LightConeMeshComp=LightConeComp
    object end
    // Reference: KFFlashlightAttachment'Default__KFPawn_Human_Versus.FlashLight'
    FlashLightTemplate=FlashLight
    TraderDialogAkComponent=AkComponent'Default__KFPawn_Human_Versus.TraderDialogAkSoundComponent'
    begin object name=ThirdPersonHead0 class=SkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: SkeletalMeshComponent'Default__KFPawn_Human_Versus.ThirdPersonHead0'
    ThirdPersonHeadMeshComponent=ThirdPersonHead0
    AfflictionHandler=KFPawnAfflictions'Default__KFPawn_Human_Versus.Afflictions'
    begin object name=FirstPersonArms class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__KFPawn_Human_Versus.FirstPersonArms'
    ArmsMesh=FirstPersonArms
    begin object name=SpecialMoveHandler class=KFSpecialMoveHandler
        SpecialMoveClasses=/* Array type was not detected. */
    object end
    // Reference: KFSpecialMoveHandler'Default__KFPawn_Human_Versus.SpecialMoveHandler'
    SpecialMoveHandler=SpecialMoveHandler
    AmbientAkComponent=AkComponent'Default__KFPawn_Human_Versus.AmbientAkSoundComponent_1'
    WeaponAkComponent=AkComponent'Default__KFPawn_Human_Versus.AmbientAkSoundComponent'
    WeaponAmbientEchoHandler=KFWeaponAmbientEchoHandler'Default__KFPawn_Human_Versus.WeaponAmbientEchoHandler'
    FootstepAkComponent=AkComponent'Default__KFPawn_Human_Versus.FootstepAkSoundComponent'
    DialogAkComponent=AkComponent'Default__KFPawn_Human_Versus.DialogAkSoundComponent'
    begin object name=KFPawnSkeletalMeshComponent class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__KFPawn_Human_Versus.KFPawnSkeletalMeshComponent'
    Mesh=KFPawnSkeletalMeshComponent
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPawn_Human_Versus.CollisionCylinder'
    CylinderComponent=CollisionCylinder
    begin object name=Sprite class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFPawn_Human_Versus.Sprite'
    Components(0)=Sprite
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPawn_Human_Versus.CollisionCylinder'
    Components(1)=CollisionCylinder
    begin object name=Arrow class=ArrowComponent
        ReplacementPrimitive=none
    object end
    // Reference: ArrowComponent'Default__KFPawn_Human_Versus.Arrow'
    Components(2)=Arrow
    begin object name=KFPawnSkeletalMeshComponent class=KFSkeletalMeshComponent
        ReplacementPrimitive=none
    object end
    // Reference: KFSkeletalMeshComponent'Default__KFPawn_Human_Versus.KFPawnSkeletalMeshComponent'
    Components(3)=KFPawnSkeletalMeshComponent
    Components(4)=AkComponent'Default__KFPawn_Human_Versus.AmbientAkSoundComponent'
    Components(5)=AkComponent'Default__KFPawn_Human_Versus.AmbientAkSoundComponent_1'
    Components(6)=AkComponent'Default__KFPawn_Human_Versus.FootstepAkSoundComponent'
    Components(7)=AkComponent'Default__KFPawn_Human_Versus.DialogAkSoundComponent'
    Components(8)=AkComponent'Default__KFPawn_Human_Versus.TraderDialogAkSoundComponent'
    begin object name=CollisionCylinder class=CylinderComponent
        ReplacementPrimitive=none
    object end
    // Reference: CylinderComponent'Default__KFPawn_Human_Versus.CollisionCylinder'
    CollisionComponent=CollisionCylinder
}