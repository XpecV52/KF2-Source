/*******************************************************************************
 * KFAIController_ZedScrake generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFAIController_ZedScrake extends KFAIController_Monster
    config(AI)
    hidecategories(Navigation);

/** Threshold of health below which the Scrake will start rage charging */
var(RageCharge) float RageHealthThreshold;

function bool AmIAllowedToSuicideWhenStuck()
{
    return false;
}

function NotifyTakeHit(Controller InstigatedBy, Vector HitLocation, int Damage, class<DamageType> DamageType, Vector Momentum)
{
    if((ShouldSprint()) && MyKFPawn != none)
    {
        MyKFPawn.SetSprinting(true);
    }
    super(Controller).NotifyTakeHit(InstigatedBy, HitLocation, Damage, DamageType, Momentum);
}

function bool ShouldSprint()
{
    if((((MyKFPawn == none) || (Enemy == none) && DoorEnemy == none) || !MyKFPawn.IsAliveAndWell()) || !Enemy.IsAliveAndWell())
    {
        return false;
    }
    if(MyKFPawn.bIsEnraged)
    {
        return true;
    }
    return false;
}

function UpdateSprintFrustration(optional byte bForceFrustrationState)
{
    bForceFrustrationState = 255;
}

function bool CanEvadeGrenade()
{
    if((MyKFPawn == none) || MyKFPawn.bIsSprinting)
    {
        return false;
    }
    return super(KFAIController).CanEvadeGrenade();
}

defaultproperties
{
    bCanTeleportCloser=false
    FrustrationThreshold=0
    TeleportCooldown=10
    HiddenRelocateTeleportThreshold=7
    EvadeGrenadeChance=0.75
    FrustrationDelay=5
    LowIntensityAttackCooldown=5
}