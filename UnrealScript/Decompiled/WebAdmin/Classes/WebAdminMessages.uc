/*******************************************************************************
 * WebAdminMessages generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class WebAdminMessages extends Object;

var array<Message> Messages;

function addMessage(string msg, optional IQueryHandler.EMessageType Type)
{
    local Message newmsg;

    Type = 0;
    if(Len(msg) == 0)
    {
        return;
    }
    newmsg.Text = msg;
    newmsg.Type = Type;
    Messages.AddItem(newmsg;
}

function string renderMessages(webadmin wa, WebAdminQuery Q)
{
    local string Result;
    local Message msg;

    foreach Messages(msg,)
    {
        Q.Response.Subst("message", msg.Text);
        switch(msg.Type)
        {
            case 0:                
                Result $= wa.Include(Q, "message_info.inc");
                break;
            case 1:                
                Result $= wa.Include(Q, "message_warn.inc");
                break;
            case 2:                
                Result $= wa.Include(Q, "message_error.inc");
                break;
            default:
                break;
        }        
    }    
    Q.Response.Subst("messages", Result);
    Messages.Length = 0;
    return wa.Include(Q, "messages.inc");
}
