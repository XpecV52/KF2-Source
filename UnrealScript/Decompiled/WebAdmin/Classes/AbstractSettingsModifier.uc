/*******************************************************************************
 * AbstractSettingsModifier generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class AbstractSettingsModifier extends Object
    implements(ISettingsModifier);

struct ClassEntry
{
    var class<WebAdminSettings> settingsClass;
    var bool bIncludeSubclasses;

    structdefaultproperties
    {
        settingsClass=none
        bIncludeSubclasses=false
    }
};

struct SettingValue
{
    var bool bFixed;
    var int intVal;
    var int intValMax;
    var float floatVal;
    var float floatValMax;
    var string StringVal;

    structdefaultproperties
    {
        bFixed=true
        intVal=0
        intValMax=0
        floatVal=0
        floatValMax=0
        StringVal=""
    }
};

var WebAdminSettings curSettings;
var class<WebAdminSettings> selectedClass;
var array<ClassEntry> modifiesClasses;

function bool modifierAppliesTo(WebAdminSettings Settings)
{
    selectedClass = getSelectedClass(Settings);
    if(selectedClass != none)
    {
        curSettings = Settings;
        return true;
    }
    return false;
}

function class<WebAdminSettings> getSelectedClass(WebAdminSettings Settings)
{
    local ClassEntry Entry;
    local bool augmentEnabled;

    if(Settings == none)
    {
        return none;
    }
    foreach modifiesClasses(Entry,)
    {
        if(Entry.bIncludeSubclasses)
        {
            augmentEnabled = ClassIsChildOf(Settings.Class, Entry.settingsClass);            
        }
        else
        {
            augmentEnabled = Settings.Class == Entry.settingsClass;
        }
        if(augmentEnabled)
        {            
            return Entry.settingsClass;
        }        
    }    
    return none;
}

function string finalizeAugmentation(WebResponse Response, string Path)
{
    curSettings = none;
    selectedClass = none;
    return "";
}

function augmentSetting(SettingRendererState renderState, optional int Index, optional bool inContainer)
{
    Index = -1;    
}

function ensureSettingValues(WebAdminSettings Settings);
