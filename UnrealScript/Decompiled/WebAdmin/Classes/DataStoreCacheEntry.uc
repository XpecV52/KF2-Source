/*******************************************************************************
 * DataStoreCacheEntry generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class DataStoreCacheEntry extends Object
    abstract;

var string FriendlyName;
var string Description;

static final function string ensureFriendlyName(string CurrentValue, string ClassName, string fallback)
{
    if(Len(CurrentValue) != 0)
    {
        CurrentValue = Class'WebAdminUtils'.static.getLocalized(CurrentValue);
    }
    if(Len(CurrentValue) != 0)
    {
        return CurrentValue;
    }
    CurrentValue = constructFriendlyName(ClassName);
    if(Len(CurrentValue) != 0)
    {
        return CurrentValue;
    }
    return fallback;
}

static final function string constructFriendlyName(string ClassName)
{
    local int I;
    local string pkg, cls, res;

    if(Len(ClassName) == 0)
    {
        return "";
    }
    I = InStr(ClassName, ".");
    if(I > 0)
    {
        pkg = Left(ClassName, I);
        cls = Mid(ClassName, I + 1);        
    }
    else
    {
        pkg = "";
        cls = ClassName;
    }
    res = Localize(cls, "DisplayName", pkg);
    if(InStr(res, ClassName $ ".DisplayName?") == -1)
    {
        if(Len(res) > 0)
        {
            return res;
        }
    }
    return "";
}
