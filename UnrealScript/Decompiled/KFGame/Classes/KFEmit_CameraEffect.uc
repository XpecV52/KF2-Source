/*******************************************************************************
 * KFEmit_CameraEffect generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFEmit_CameraEffect extends Emitter
    abstract
    native(Effect)
    hidecategories(Navigation);

/** How far in front of the camera this emitter should live. */
var() protected float DistFromCamera;
var protected KFPlayerController Cam;

simulated event PostBeginPlay()
{
    ParticleSystemComponent.SetDepthPriorityGroup(2);
    super.PostBeginPlay();
}

function Destroyed()
{
    Cam.RemoveCameraEffect(self);
    super(Actor).Destroyed();
}

function RegisterCamera(KFPlayerController inCam)
{
    Cam = inCam;
}

// Export UKFEmit_CameraEffect::execUpdateLocation(FFrame&, void* const)
native function UpdateLocation(const out Vector CamLoc, const out Rotator CamRot, float CamFOVDeg);

defaultproperties
{
    DistFromCamera=90
    begin object name=ParticleSystemComponent0 class=ParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: ParticleSystemComponent'Default__KFEmit_CameraEffect.ParticleSystemComponent0'
    ParticleSystemComponent=ParticleSystemComponent0
    bDestroyOnSystemFinish=true
    begin object name=Sprite class=SpriteComponent
        ReplacementPrimitive=none
    object end
    // Reference: SpriteComponent'Default__KFEmit_CameraEffect.Sprite'
    Components(0)=Sprite
    begin object name=ParticleSystemComponent0 class=ParticleSystemComponent
        ReplacementPrimitive=none
    object end
    // Reference: ParticleSystemComponent'Default__KFEmit_CameraEffect.ParticleSystemComponent0'
    Components(1)=ParticleSystemComponent0
    begin object name=ArrowComponent0 class=ArrowComponent
        ReplacementPrimitive=none
    object end
    // Reference: ArrowComponent'Default__KFEmit_CameraEffect.ArrowComponent0'
    Components(2)=ArrowComponent0
    CollisionType=ECollisionType.COLLIDE_CustomDefault
    bNoDelete=false
    bNetInitialRotation=true
    LifeSpan=10
}