/*******************************************************************************
 * KFAIController_ZedClot generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFAIController_ZedClot extends KFAIController_Monster
    abstract
    native(AI)
    config(AI)
    hidecategories(Navigation);

function bool ShouldSprint()
{
    if((((MyKFPawn == none) || (Enemy == none) && DoorEnemy == none) || !MyKFPawn.IsAliveAndWell()) || !Enemy.IsAliveAndWell())
    {
        return false;
    }
    if(IsFrustrated())
    {
        return true;
    }
    if(bCanSprint || bCanSprintWhenDamaged && MyKFPawn.Health < MyKFPawn.HealthMax)
    {
        return true;
    }
    return false;
}

function bool CanDoStrike()
{
    if(CanGrabAttack())
    {
        return false;
    }
    return super.CanDoStrike();
}

event DoGrabAttack(optional Pawn NewEnemy, optional float InPostSpecialMoveSleepTime)
{
    InPostSpecialMoveSleepTime = 0;
    if((CommandList == none) || AICommand(CommandList).bAllowedToAttack)
    {
        if((NewEnemy != none) && NewEnemy != Enemy)
        {
            SetEnemy(NewEnemy);
        }
        ClearMovementInfo(true, "Aborted For GrabAttack");
        if(!Class'Engine'.static.GetEngine().bDisableAILogging)
        {
            AILog_Internal(string(GetFuncName()) $ "() Init AICommand_Attack_Grab", 'InitAICommand');
        }
        Class'AICommand_Attack_Grab'.static.Grab(self, InPostSpecialMoveSleepTime);        
    }
    else
    {
        if((CommandList != none) && !AICommand(CommandList).bAllowedToAttack)
        {
            if(!Class'Engine'.static.GetEngine().bDisableAILogging)
            {
                AILog_Internal(((string(GetFuncName()) $ "() not doing grab attack because current command (") $ string(CommandList)) $ ") will not allow it", 'GrabAttack');
            }
        }
    }
}

defaultproperties
{
    bEvadeOnRunOverWarning=true
    bIsProbingMeleeRangeEvents=true
    SprintWithinEnemyRange=(X=600,Y=1200)
}