/*******************************************************************************
 * KFFirstPersonCamera generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFFirstPersonCamera extends GameCameraBase;

function UpdateCamera(Pawn P, GamePlayerCamera CameraActor, float DeltaTime, out TViewTarget OutVT)
{
    if((P == none) && OutVT.Target != none)
    {
        OutVT.Target.GetActorEyesViewPoint(OutVT.POV.Location, OutVT.POV.Rotation);        
    }
    else
    {
        if((P != none) && !P.CalcCamera(DeltaTime, OutVT.POV.Location, OutVT.POV.Rotation, OutVT.POV.FOV))
        {
            PlayerUpdateCamera(P, CameraActor, DeltaTime, OutVT);
        }
    }
    PlayerCamera.ApplyCameraModifiers(DeltaTime, OutVT.POV);
    bResetCameraInterpolation = false;
}

protected function PlayerUpdateCamera(Pawn P, GamePlayerCamera CameraActor, float DeltaTime, out TViewTarget OutVT)
{
    local Vector Loc;
    local Rotator Rot;

    OutVT.Target.GetActorEyesViewPoint(Loc, Rot);
    if(OutVT.Target.Role == ROLE_SimulatedProxy)
    {
        OutVT.POV.Location = VInterpTo(OutVT.POV.Location, Loc, DeltaTime, 30);
        OutVT.POV.Rotation = RInterpTo(OutVT.POV.Rotation, Rot, DeltaTime, 30);        
    }
    else
    {
        OutVT.POV.Location = Loc;
        OutVT.POV.Rotation = Rot;
    }
}
