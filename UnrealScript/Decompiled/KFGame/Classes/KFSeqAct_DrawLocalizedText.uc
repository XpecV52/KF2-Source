/*******************************************************************************
 * KFSeqAct_DrawLocalizedText generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSeqAct_DrawLocalizedText extends SequenceAction
    native
    forcescriptorder(true)
    hidecategories(Object);

enum ELocalizedID
{
    LID,
    LID_1,
    LID_2,
    LID_3,
    LID_4,
    LID_5,
    LID_6,
    LID_7,
    LID_8,
    LID_9,
    LID_10,
    LID_11,
    LID_12,
    LID_13,
    LID_14,
    LID_15,
    LID_16,
    LID_17,
    LID_18,
    LID_19,
    LID_20,
    LID_21,
    LID_22,
    LID_23,
    LID_24,
    LID_25,
    LID_26,
    LID_27,
    LID_28,
    LID_29,
    LID_30,
    LID_31,
    LID_32,
    LID_33,
    LID_34,
    LID_35,
    LID_36,
    LID_37,
    LID_38,
    LID_39,
    LID_40,
    LID_41,
    LID_42,
    LID_43,
    LID_44,
    LID_45,
    LID_46,
    LID_47,
    LID_48,
    LID_49,
    LID_MAX
};

var int SecondaryIDValue;
var(Message) KFSeqAct_DrawLocalizedText.ELocalizedID MessageLocalizedID;
var(Message) array<KFSeqAct_DrawLocalizedText.ELocalizedID> SecondaryMessageLocalizedIDList;
var(Message) bool bUseSecondaryMessage;
var bool bDisplayOnObject;
var(Message) string TextForReplace;
var() class<KFKismetMapLocalization> MapLocalizationClass;
var() float DisplayTimeSeconds;
var() Vector2D MessageFontScale;
var() Vector2D MessageOffset;
var() Color MessageColor;
var KismetDrawTextInfo DrawTextInfo;

static event int GetObjClassVersion()
{
    return super(SequenceObject).GetObjClassVersion() + 2;
}

event Initialize()
{
    DrawTextInfo.MessageText = GetLocalizationText();
    DrawTextInfo.MessageFont = GetFontText();
    DrawTextInfo.MessageFontScale = MessageFontScale;
    DrawTextInfo.MessageOffset = MessageOffset;
    DrawTextInfo.MessageColor = MessageColor;
}

simulated function string GetLocalizationText()
{
    local string finalText, SecondaryText;

    finalText = MapLocalizationClass.static.GetLocalization(MessageLocalizedID);
    LogInternal("bUseSecondaryMessage" @ string(bUseSecondaryMessage));
    if(bUseSecondaryMessage)
    {
        LogInternal("SecondaryIDValue" @ string(SecondaryIDValue));
        SecondaryText = MapLocalizationClass.static.GetLocalization(SecondaryMessageLocalizedIDList[SecondaryIDValue]);
        Class'Actor'.static.ReplaceText(finalText, TextForReplace, SecondaryText);
    }
    return finalText;
}

simulated function Font GetFontText()
{
    return MapLocalizationClass.static.GetFont();
}

defaultproperties
{
    DisplayTimeSeconds=-1
    MessageFontScale=(X=1,Y=1)
    MessageColor=(B=255,G=255,R=255,A=255)
    bLatentExecution=true
    bAutoActivateOutputLinks=false
    InputLinks(0)=(LinkDesc="Show",bHasImpulse=false,QueuedActivations=0,bDisabled=false,bDisabledPIE=false,LinkedOp=none,DrawY=0,bHidden=false,ActivateDelay=0,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    InputLinks(1)=(LinkDesc="Hide",bHasImpulse=false,QueuedActivations=0,bDisabled=false,bDisabledPIE=false,LinkedOp=none,DrawY=0,bHidden=false,ActivateDelay=0,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    VariableLinks(0)=(ExpectedType=Class'Engine.SeqVar_Object',LinkedVariables=none,LinkDesc="Target",LinkVar=None,PropertyName=Targets,bWriteable=false,bSequenceNeverReadsOnlyWritesToThisVar=false,bModifiesLinkedObject=false,bHidden=false,MinVars=1,MaxVars=255,DrawX=0,CachedProperty=none,bAllowAnyType=false,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    VariableLinks(1)=(ExpectedType=Class'Engine.SeqVar_String',LinkedVariables=none,LinkDesc="String",LinkVar=None,PropertyName=None,bWriteable=false,bSequenceNeverReadsOnlyWritesToThisVar=false,bModifiesLinkedObject=false,bHidden=true,MinVars=0,MaxVars=255,DrawX=0,CachedProperty=none,bAllowAnyType=false,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    VariableLinks(2)=(ExpectedType=Class'Engine.SeqVar_Int',LinkedVariables=none,LinkDesc="SecondaryIDValue",LinkVar=None,PropertyName=SecondaryIDValue,bWriteable=true,bSequenceNeverReadsOnlyWritesToThisVar=false,bModifiesLinkedObject=false,bHidden=true,MinVars=0,MaxVars=255,DrawX=0,CachedProperty=none,bAllowAnyType=false,bMoving=false,bClampedMax=false,bClampedMin=false,OverrideDelta=0)
    ObjName="Draw Localized Text"
    ObjCategory="Killing Floor"
}