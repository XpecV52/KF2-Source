/*******************************************************************************
 * KFGFxMoviePlayer_NaughtyList generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFGFxMoviePlayer_NaughtyList extends GFxMoviePlayer
    config(UI);

const MAX_NAMES = 12;

var KFGFxNaughtyList NaughtyListMenu;
var KFGameReplicationInfo KFGRI;
var array<string> FillerNames;

event bool WidgetInitialized(name WidgetName, name WidgetPath, GFxObject Widget)
{
    local bool bHandled;

    bHandled = true;
    switch(WidgetName)
    {
        case 'NaughtyList':
            if(NaughtyListMenu == none)
            {
                NaughtyListMenu = KFGFxNaughtyList(Widget);
                NaughtyListMenu.Initialize();
                Refresh();
            }
            break;
        default:
            bHandled = false;
            break;
    }
    return bHandled;
}

simulated function Refresh()
{
    local GFxObject DataObject, DataProvider;
    local array<KFPlayerReplicationInfo> KFPRIArray;
    local int I;

    if(KFGRI == none)
    {
        return;
    }
    DataProvider = CreateArray();
    KFGRI.GetKFPRIArray(KFPRIArray);
    I = 0;
    J0x59:

    if(I < 12)
    {
        DataObject = CreateObject("Object");
        if(KFPRIArray.Length > I)
        {
            DataObject.SetString("label", KFPRIArray[I].PlayerName);            
        }
        else
        {
            DataObject.SetString("label", FillerNames[I]);
        }
        DataProvider.SetElementObject(I, DataObject);
        ++ I;
        goto J0x59;
    }
    NaughtyListMenu.SetObject("Data", DataProvider);
}

defaultproperties
{
    FillerNames(0)="Mia"
    FillerNames(1)="Adam"
    FillerNames(2)="Tyler"
    FillerNames(3)="Jon"
    FillerNames(4)="Dave"
    FillerNames(5)="Other Dave"
    FillerNames(6)="Zane"
    FillerNames(7)="Joe"
    FillerNames(8)="Bill"
    FillerNames(9)="Alan"
    FillerNames(10)="Andrew"
    FillerNames(11)="Chris"
    MovieInfo=SwfMovie'UI_World_NaughtyList.NaughtyListWorld_SWF'
    bAutoPlay=true
    RenderTexture=TextureRenderTarget2D'UI_World_NaughtyList.NaughtyList_RT'
    RenderTextureMode=GFxRenderTextureMode.RTM_AlphaComposite
    WidgetBindings=/* Array type was not detected. */
}