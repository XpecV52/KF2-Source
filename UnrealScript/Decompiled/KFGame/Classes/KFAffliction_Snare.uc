/*******************************************************************************
 * KFAffliction_Snare generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFAffliction_Snare extends KFAfflictionAdvanced;

var float SnareSpeedModifier;

function Init(KFPawn P, KFAfflictionManager.EAfflictionType Type, KFPerk InstigatorPerk)
{
    super.Init(P, Type, InstigatorPerk);
    SnareSpeedModifier = 1;
    if(InstigatorPerk != none)
    {
        SnareSpeedModifier = InstigatorPerk.GetSnareSpeedModifier();
    }
}

function Activate()
{
    if(!bIsActive)
    {
        super.Activate();
        PawnOwner.SetTimer(Duration, false, 'DeActivate', self);
        bIsActive = true;
        PawnOwner.SetAfflictionSpeedModifier();
    }
}

function DeActivate()
{
    bIsActive = false;
    if(bDebug)
    {
        LogInternal(string(self) @ "was deactivaed");
    }
    PawnOwner.SetAfflictionSpeedModifier();
}

function float GetSpeedModifier()
{
    return ((bIsActive) ? SnareSpeedModifier : 1);
}
