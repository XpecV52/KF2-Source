/*******************************************************************************
 * KFSM_Evade generated by Eliot.UELib using UE Explorer.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class KFSM_Evade extends KFSM_PlaySingleAnim;

var array<AnimVariants> EvadeAnims;

static function byte PackAnimFlag(byte EvadeDir)
{
    local byte Variant;

    Variant = byte(Rand(2));
    return byte(EvadeDir + (Variant << 4));
}

function PlayAnimation()
{
    local byte Type, Variant;

    Type = byte(KFPOwner.SpecialMoveFlags & 15);
    Variant = byte(KFPOwner.SpecialMoveFlags >> 4);
    PlaySpecialMoveAnim(EvadeAnims[Type].Anims[Variant], 0, BlendInTime, BlendOutTime, 1);
    KFPOwner.SpecialMoveFlags = 255;
}

defaultproperties
{
    EvadeAnims(0)=(Anims=(Evade_F_V1,Evade_F_V2))
    EvadeAnims(1)=(Anims=(Evade_B_V1,Evade_B_V2))
    EvadeAnims(2)=(Anims=(Evade_L_V1,Evade_L_V2))
    EvadeAnims(3)=(Anims=(Evade_R_V1,Evade_R_V2))
    EvadeAnims(4)=(Anims=(Evade_FL_V1,Evade_FL_V2))
    EvadeAnims(5)=(Anims=(Evade_FR_V1,Evade_FR_V2))
    EvadeAnims(6)=(Anims=(Evade_BL_V1,Evade_BL_V2))
    EvadeAnims(7)=(Anims=(Evade_BR_V1,Evade_BR_V2))
    bUseRootMotion=true
    BlendInTime=0.15
    bUseHigherMeshSmoothingThreshold=true
    bDisablesWeaponFiring=true
    bPawnRotationLocked=true
    Handle=KFSM_Evade
}